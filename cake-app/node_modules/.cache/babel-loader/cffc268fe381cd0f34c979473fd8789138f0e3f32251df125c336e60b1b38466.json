{"ast":null,"code":"var _jsxFileName = \"C:\\\\cake-app\\\\src\\\\components\\\\ProductList\\\\QueryAllChat.js\",\n  _s = $RefreshSig$();\n// import React, { Component } from 'react';\n// import Footer from '../Footer/Footer';\n// import './productList.css';\n// import axios from 'axios';\n\n// export default class QueryAllChat extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       deleteId: '',\n//       updateId: '',\n//       updateItem: '',\n//       updateQuantity: '',\n//       showDeleteControls: false,\n//       showUpdateControls: false,\n//       queryResult: []\n//     };\n//   }\n\n//   handleInputChange = (e) => {\n//     this.setState({\n//       deleteId: e.target.value\n//     });\n//   };\n\n//   handleDeleteClick = () => {\n//     this.setState({\n//       showDeleteControls: true,\n//       showUpdateControls: false, // 添加这行以隐藏修改表单\n//     });\n//     this.test();\n//   };\n\n//   handleDelete = () => {\n//     const { deleteId } = this.state;\n//     axios.delete(`http://localhost:8080/cake/delete/${deleteId}`)\n//       .then(response => {\n//         this.test();\n//         this.setState({ deleteId: '' });\n//       })\n//       .catch(error => {\n//         console.error('删除失败:', error);\n//       });\n//   };\n\n//   test = () => {\n//     axios.get(\"http://localhost:8080/cake/queryAllCake\")\n//       .then(response => {\n//         this.setState({\n//           queryResult: response.data\n//         });\n//       })\n//       .catch(error => {\n//         console.error('获取数据失败:', error);\n//       });\n//   };\n\n//   handleQueryClick = () => {\n//     this.setState({\n//       showDeleteControls: false,\n//       showUpdateControls: false, // 添加这行以隐藏修改表单\n//     });\n//     this.test();\n//   };\n\n//   handleUpdateClick = () => {\n//     this.setState({\n//       showUpdateControls: true,\n//       showDeleteControls: false,\n//     });\n//     this.test();\n//   };\n\n//   handleUpdateInputChange = (e) => {\n//     this.setState({\n//       [e.target.name]: e.target.value,\n//     });\n//   };\n\n//   handleUpdate = () => {\n//     const { updateId, updateItem, updateQuantity } = this.state;\n//     const productList = [ \n//       {\n//         productId: 1,\n//         name: \"鄉村檸檬乳酪塔\",\n//         descript: \"採用紐西蘭小鄉村濃郁的乳酪香味，搭配清涼檸檬口感是鄉村中最具引響力的一道甜點。\",\n//         img: \"cake01.jpg\",\n//         price: 79,\n//         category: [\"水果\", \"蛋糕\"]\n//       }, {\n//         productId: 2,\n//         name: \"精緻手工巧克蛋糕\",\n//         descript: \"本店採用歐洲低筋麵粉純手工製作，搭配瑞士金典巧克力碎片，每一口都能被巧克力滋潤，令人著迷且充滿想像的奇幻空間。\",\n//         img: \"cake02.jpg\",\n//         price: 69,\n//         category: [\"巧克力\", \"蛋糕\"]\n//       }, {\n//         productId: 3,\n//         name: \"限量莓果乳酪蛋糕\",\n//         descript: \"自製微酸香甜的草莓醬點綴了藍莓，雙層華麗的享受與令人驚豔的口感絕對讓你幸福美滿。\",\n//         img: \"cake03.jpg\",\n//         price: 89,\n//         category: [\"水果\", \"蛋糕\"]\n//       }, {\n//         productId: 4,\n//         name: \"法式藍莓蛋糕\",\n//         descript: \"新鮮藍莓的清香在嘴裡蔓延，甜而不膩的獨家配方，每一口都是幸福的感受。\",\n//         img: \"cake04.jpg\",\n//         price: 49,\n//         category: [\"水果\", \"蛋糕\"]\n//       }, {\n//         productId: 5,\n//         name: \"法式泡芙\",\n//         descript: \"外酥內嫩的口感，三種不同口味一次滿足不同味蕾\",\n//         img: \"puff.jpg\",\n//         price: 99,\n//         category: [\"水果\", \"蛋糕\"]\n//       }\n//     ];\n//     const product = productList.find(p => p.productId === Number(updateItem));\n//     if (!product) {\n//       console.error('商品不存在');\n//       return;\n//     }\n//     const data = {\n//       item: updateItem,\n//       item_name: product.name,\n//       amount: updateQuantity,\n//       subtotal: product.price * updateQuantity,\n//     };\n\n//     axios.put(`http://localhost:8080/cake/update/${updateId}`, data)\n//       .then(response => {\n//         this.test();\n//         this.setState({ \n//           updateId: '',\n//           updateItem: '',\n//           updateQuantity: '',\n//           showUpdateControls: false\n//         });\n//       })\n//       .catch(error => {\n//         console.error('更新訂單失敗:', error);\n//       });\n//   };\n\n//   render() {\n//     const { showDeleteControls, showUpdateControls, queryResult } = this.state;\n//     return (\n//       <div>\n//         <img src=\"images/banner.jpg\" className=\"img-responsive\" id=\"banner\" alt=\"\" /><br/>\n//         <ul className=\"nav nav-tabs\">\n//           <li className=\"nav-item\">\n//             <button className=\"custom-button\" onClick={this.handleQueryClick}>查看訂單</button>\n//           </li>\n//           <li className=\"nav-item\">\n//             <button className=\"custom-button\" onClick={this.handleDeleteClick}>刪除</button>\n//           </li>\n//           <li className=\"nav-item\">\n//             <button className=\"custom-button\" onClick={this.handleUpdateClick}>修改</button>\n//           </li>\n//         </ul>\n//         {showDeleteControls && (\n//           <div>\n//             <input type=\"text\" value={this.state.deleteId} onChange={this.handleInputChange} placeholder=\"輸入要刪除的訂單ID\" />\n//             <button onClick={this.handleDelete}>確認刪除</button>\n//           </div>\n//         )}\n//         {showUpdateControls && (\n//           <div>\n//             <input type=\"text\" name=\"updateId\" value={this.state.updateId} onChange={this.handleUpdateInputChange} placeholder=\"輸入要修改的訂單ID\" />\n//             <input type=\"text\" name=\"updateItem\" value={this.state.updateItem} onChange={this.handleUpdateInputChange} placeholder=\"輸入要修改的商品\" />\n//             <input type=\"text\" name=\"updateQuantity\" value={this.state.updateQuantity} onChange={this.handleUpdateInputChange} placeholder=\"輸入修改後的數量\" />\n//             <button onClick={this.handleUpdate}>確認修改</button>\n//           </div>\n//         )}\n//         {queryResult.length > 0 && (\n//           <div id=\"show\">\n//             <table border=\"1\" align=\"center\" width=\"70%\">\n//               <thead>\n//                 <tr>\n//                   <th>訂單編號</th>\n//                   <th>商品代號</th>\n//                   <th>商品品名</th>\n//                   <th>數量</th>\n//                   <th>金額</th>\n//                 </tr>\n//               </thead>\n//               <tbody>\n//                 {queryResult.map(item => (\n//                   <tr key={item.id}>\n//                     <td>{item.id}</td>\n//                     <td>{item.item}</td>\n//                     <td>{item.item_name}</td>\n//                     <td className=\"right-align\">{item.amount ? item.amount.toLocaleString() : \"\"}</td>\n//                     <td className=\"right-align\">{item.subtotal ? item.subtotal.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + \" NTD\" : \"\"}</td>\n//                   </tr>\n//                 ))}\n//               </tbody>\n//             </table>\n//             <br/>共:{queryResult.length}筆  \n//           </div>\n//         )}\n//         <Footer />\n//       </div>\n//     )\n//   }\n// }\n//////////////////////////////////////////////////////////////////////////////////////\n\n// import React, { Component } from 'react';\n// import Footer from '../Footer/Footer';\n// import './productList.css';\n// import axios from 'axios';\n\n// export default class QueryAllChat extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       deleteId: '',\n//       updateId: '',\n//       updateItem: '',\n//       updateQuantity: '',\n//       showDeleteControls: false,\n//       showUpdateControls: false,\n//       queryResult: []\n//     };\n//   }\n\n//   componentDidMount() {\n//     this.fetchProducts();\n//   }\n\n//   fetchProducts = () => {\n//     axios.get(\"http://localhost:8080/products/queryAllProducts\")\n//       .then(response => {\n//         this.setState({\n//           queryResult: response.data\n//         });\n//       })\n//       .catch(error => {\n//         console.error('获取数据失败:', error);\n//       });\n//   };\n\n//   handleInputChange = (e) => {\n//     this.setState({\n//       deleteId: e.target.value\n//     });\n//   };\n\n//   handleDeleteClick = () => {\n//     this.setState({\n//       showDeleteControls: true,\n//       showUpdateControls: false,\n//     });\n//     this.test();\n//   };\n\n//   handleDelete = () => {\n//     const { deleteId } = this.state;\n//     axios.delete(`http://localhost:8080/cake/delete/${deleteId}`)\n//       .then(response => {\n//         this.test();\n//         this.setState({ deleteId: '' });\n//       })\n//       .catch(error => {\n//         console.error('删除失败:', error);\n//       });\n//   };\n\n//   test = () => {\n//     axios.get(\"http://localhost:8080/cake/queryAllCake\")\n//       .then(response => {\n//         this.setState({\n//           queryResult: response.data\n//         });\n//       })\n//       .catch(error => {\n//         console.error('获取数据失败:', error);\n//       });\n//   };\n\n//   handleQueryClick = () => {\n//     this.setState({\n//       showDeleteControls: false,\n//       showUpdateControls: false,\n//     });\n//     this.test();\n//   };\n\n//   handleUpdateClick = () => {\n//     this.setState({\n//       showUpdateControls: true,\n//       showDeleteControls: false,\n//     });\n//     this.test();\n//   };\n\n//   handleUpdateInputChange = (e) => {\n//     this.setState({\n//       [e.target.name]: e.target.value,\n//     });\n//   };\n\n//   handleUpdate = () => {\n//     const { updateId, updateItem, updateQuantity, queryResult } = this.state;\n\n//     // 從 queryResult 中找到要更新的產品\n//     const productToUpdate = queryResult.find(item => item.item === updateItem);\n\n//     // 確保找到了要更新的產品\n//     if (!productToUpdate) {\n//       console.error('找不到要更新的產品');\n//       return;\n//     }\n\n//     // 構造更新的數據對象\n//     const data = {\n//       item: updateItem,\n//       item_name: productToUpdate.item_name, // 使用產品清單中的商品名稱\n//       amount: updateQuantity,\n//       subtotal: productToUpdate.price * updateQuantity // 使用產品清單中的價格計算小計\n//     };\n\n//     // 發送更新請求\n//     axios.put(`http://localhost:8080/cake/update/${updateId}`, data)\n//       .then(response => {\n//         this.fetchProducts(); // 更新後重新加載產品列表\n//         this.setState({ \n//           updateId: '',\n//           updateItem: '',\n//           updateQuantity: '',\n//           showUpdateControls: false\n//         });\n//       })\n//       .catch(error => {\n//         console.error('更新訂單失敗:', error);\n//       });\n//   };\n\n//   render() {\n//     const { showDeleteControls, showUpdateControls, queryResult } = this.state;\n//     return (\n//       <div>\n//         <img src=\"images/banner.jpg\" className=\"img-responsive\" id=\"banner\" alt=\"\" /><br/>\n//         <ul className=\"nav nav-tabs\">\n//           <li className=\"nav-item\">\n//             <button className=\"custom-button\" onClick={this.handleQueryClick}>查看訂單</button>\n//           </li>\n//           <li className=\"nav-item\">\n//             <button className=\"custom-button\" onClick={this.handleDeleteClick}>刪除</button>\n//           </li>\n//           <li className=\"nav-item\">\n//             <button className=\"custom-button\" onClick={this.handleUpdateClick}>修改</button>\n//           </li>\n//         </ul>\n//         {showDeleteControls && (\n//           <div>\n//             <input type=\"text\" value={this.state.deleteId} onChange={this.handleInputChange} placeholder=\"輸入要刪除的訂單ID\" />\n//             <button onClick={this.handleDelete}>確認刪除</button>\n//           </div>\n//         )}\n//         {showUpdateControls && (\n//           <div>\n//             <input type=\"text\" name=\"updateId\" value={this.state.updateId} onChange={this.handleUpdateInputChange} placeholder=\"輸入要修改的訂單ID\" />\n//             <input type=\"text\" name=\"updateItem\" value={this.state.updateItem} onChange={this.handleUpdateInputChange} placeholder=\"輸入要修改的商品\" />\n//             <input type=\"text\" name=\"updateQuantity\" value={this.state.updateQuantity} onChange={this.handleUpdateInputChange} placeholder=\"輸入修改後的數量\" />\n//             <button onClick={this.handleUpdate}>確認修改</button>\n//           </div>\n//         )}\n//         {queryResult.length > 0 && (\n//           <div id=\"show\">\n//             <table border=\"1\" align=\"center\" width=\"70%\">\n//               <thead>\n//                 <tr>\n//                   <th>訂單編號</th>\n//                   <th>商品代號</th>\n//                   <th>商品品名</th>\n//                   <th>數量</th>\n//                   <th>金額</th>\n//                 </tr>\n//               </thead>\n//               <tbody>\n//                 {queryResult.map(item => (\n//                   <tr key={item.id}>\n//                     <td>{item.id}</td>\n//                     <td>{item.item}</td>\n//                     <td>{item.item_name}</td>\n//                     <td className=\"right-align\">{item.amount ? item.amount.toLocaleString() : \"\"}</td>\n//                     <td className=\"right-align\">{item.subtotal ? item.subtotal.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + \" NTD\" : \"\"}</td>\n//                   </tr>\n//                 ))}\n//               </tbody>\n//             </table>\n//             <br/>共:{queryResult.length}筆  \n//           </div>\n//         )}\n//         <Footer />\n//       </div>\n//     )\n//   }\n// }\n\n///////////////////////////////test 商品名稱會跟著更新  但小計不會跟著重新計算 /////////////////////\n\nimport React, { useState, useEffect } from 'react';\nimport Footer from '../Footer/Footer';\nimport './productList.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QueryAllChat = () => {\n  _s();\n  const [deleteId, setDeleteId] = useState('');\n  const [updateId, setUpdateId] = useState('');\n  const [updateItem, setUpdateItem] = useState('');\n  const [updateQuantity, setUpdateQuantity] = useState('');\n  const [showDeleteControls, setShowDeleteControls] = useState(false);\n  const [showUpdateControls, setShowUpdateControls] = useState(false);\n  const [queryResult, setQueryResult] = useState([]);\n  const handleInputChange = e => {\n    setDeleteId(e.target.value);\n  };\n  const handleDeleteClick = () => {\n    setShowDeleteControls(true);\n    setShowUpdateControls(false);\n    test();\n  };\n  const handleDelete = () => {\n    axios.delete(`http://localhost:8080/cake/delete/${deleteId}`).then(response => {\n      test();\n      setDeleteId('');\n    }).catch(error => {\n      console.error('删除失败:', error);\n    });\n  };\n  const test = () => {\n    axios.get(\"http://localhost:8080/cake/queryAllCake\").then(response => {\n      setQueryResult(response.data);\n    }).catch(error => {\n      console.error('获取数据失败:', error);\n    });\n  };\n  const handleQueryClick = () => {\n    setShowDeleteControls(false);\n    setShowUpdateControls(false);\n    fetchData(); // 发起获取产品列表的请求\n  };\n  const fetchData = () => {\n    axios.get(\"http://localhost:8080/products/queryAllProducts\") // 请求产品列表数据\n    .then(response => {\n      setQueryResult(response.data); // 将返回的数据设置到 queryResult 状态中\n    }).catch(error => {\n      console.error('获取产品列表失败:', error);\n    });\n  };\n  const handleUpdateClick = () => {\n    setShowUpdateControls(true);\n    setShowDeleteControls(false);\n    test();\n  };\n  const handleUpdateInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (name === 'updateId') setUpdateId(value);\n    if (name === 'updateItem') setUpdateItem(value);\n    if (name === 'updateQuantity') setUpdateQuantity(value);\n  };\n  const handleUpdate = () => {\n    const productList = queryResult;\n    const product = productList.find(p => p.product_id === Number(updateItem));\n    if (!product) {\n      console.error('商品不存在');\n      return;\n    }\n    const data = {\n      item: updateItem,\n      item_name: product.name,\n      amount: updateQuantity,\n      subtotal: product.price * updateQuantity\n    };\n    axios.put(`http://localhost:8080/cake/update/${updateId}`, data).then(response => {\n      test();\n      setUpdateId('');\n      setUpdateItem('');\n      setUpdateQuantity('');\n      setShowUpdateControls(false);\n    }).catch(error => {\n      console.error('更新訂單失敗:', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"images/banner.jpg\",\n      className: \"img-responsive\",\n      id: \"banner\",\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 84\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"nav nav-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"nav-item\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"custom-button\",\n          onClick: handleQueryClick,\n          children: \"\\u67E5\\u770B\\u8A02\\u55AE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"nav-item\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"custom-button\",\n          onClick: handleDeleteClick,\n          children: \"\\u522A\\u9664\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"nav-item\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"custom-button\",\n          onClick: handleUpdateClick,\n          children: \"\\u4FEE\\u6539\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }, this), showDeleteControls && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: deleteId,\n        onChange: handleInputChange,\n        placeholder: \"\\u8F38\\u5165\\u8981\\u522A\\u9664\\u7684\\u8A02\\u55AEID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDelete,\n        children: \"\\u78BA\\u8A8D\\u522A\\u9664\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 9\n    }, this), showUpdateControls && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"updateId\",\n        value: updateId,\n        onChange: handleUpdateInputChange,\n        placeholder: \"\\u8F38\\u5165\\u8981\\u4FEE\\u6539\\u7684\\u8A02\\u55AEID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"updateItem\",\n        value: updateItem,\n        onChange: handleUpdateInputChange,\n        placeholder: \"\\u8F38\\u5165\\u8981\\u4FEE\\u6539\\u7684\\u5546\\u54C1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"updateQuantity\",\n        value: updateQuantity,\n        onChange: handleUpdateInputChange,\n        placeholder: \"\\u8F38\\u5165\\u4FEE\\u6539\\u5F8C\\u7684\\u6578\\u91CF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUpdate,\n        children: \"\\u78BA\\u8A8D\\u4FEE\\u6539\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 9\n    }, this), queryResult.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"show\",\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        border: \"1\",\n        align: \"center\",\n        width: \"70%\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u8A02\\u55AE\\u7DE8\\u865F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u5546\\u54C1\\u4EE3\\u865F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u5546\\u54C1\\u54C1\\u540D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u6578\\u91CF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u91D1\\u984D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: queryResult.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.item_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"right-align\",\n              children: item.amount ? item.amount.toLocaleString() : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"right-align\",\n              children: item.subtotal ? item.subtotal.toLocaleString(undefined, {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2\n              }) + \" NTD\" : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 19\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 11\n      }, this), \"\\u5171:\", queryResult.length, \"\\u7B46\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 513,\n    columnNumber: 5\n  }, this);\n};\n_s(QueryAllChat, \"8yb/ZTQvMwgVw6kUHVykEIWBO7U=\");\n_c = QueryAllChat;\nexport default QueryAllChat;\nvar _c;\n$RefreshReg$(_c, \"QueryAllChat\");","map":{"version":3,"names":["React","useState","useEffect","Footer","axios","jsxDEV","_jsxDEV","QueryAllChat","_s","deleteId","setDeleteId","updateId","setUpdateId","updateItem","setUpdateItem","updateQuantity","setUpdateQuantity","showDeleteControls","setShowDeleteControls","showUpdateControls","setShowUpdateControls","queryResult","setQueryResult","handleInputChange","e","target","value","handleDeleteClick","test","handleDelete","delete","then","response","catch","error","console","get","data","handleQueryClick","fetchData","handleUpdateClick","handleUpdateInputChange","name","handleUpdate","productList","product","find","p","product_id","Number","item","item_name","amount","subtotal","price","put","children","src","className","id","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","onChange","placeholder","length","border","align","width","map","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","_c","$RefreshReg$"],"sources":["C:/cake-app/src/components/ProductList/QueryAllChat.js"],"sourcesContent":["// import React, { Component } from 'react';\r\n// import Footer from '../Footer/Footer';\r\n// import './productList.css';\r\n// import axios from 'axios';\r\n\r\n// export default class QueryAllChat extends Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = {\r\n//       deleteId: '',\r\n//       updateId: '',\r\n//       updateItem: '',\r\n//       updateQuantity: '',\r\n//       showDeleteControls: false,\r\n//       showUpdateControls: false,\r\n//       queryResult: []\r\n//     };\r\n//   }\r\n\r\n//   handleInputChange = (e) => {\r\n//     this.setState({\r\n//       deleteId: e.target.value\r\n//     });\r\n//   };\r\n\r\n//   handleDeleteClick = () => {\r\n//     this.setState({\r\n//       showDeleteControls: true,\r\n//       showUpdateControls: false, // 添加这行以隐藏修改表单\r\n//     });\r\n//     this.test();\r\n//   };\r\n\r\n//   handleDelete = () => {\r\n//     const { deleteId } = this.state;\r\n//     axios.delete(`http://localhost:8080/cake/delete/${deleteId}`)\r\n//       .then(response => {\r\n//         this.test();\r\n//         this.setState({ deleteId: '' });\r\n//       })\r\n//       .catch(error => {\r\n//         console.error('删除失败:', error);\r\n//       });\r\n//   };\r\n\r\n//   test = () => {\r\n//     axios.get(\"http://localhost:8080/cake/queryAllCake\")\r\n//       .then(response => {\r\n//         this.setState({\r\n//           queryResult: response.data\r\n//         });\r\n//       })\r\n//       .catch(error => {\r\n//         console.error('获取数据失败:', error);\r\n//       });\r\n//   };\r\n\r\n//   handleQueryClick = () => {\r\n//     this.setState({\r\n//       showDeleteControls: false,\r\n//       showUpdateControls: false, // 添加这行以隐藏修改表单\r\n//     });\r\n//     this.test();\r\n//   };\r\n\r\n//   handleUpdateClick = () => {\r\n//     this.setState({\r\n//       showUpdateControls: true,\r\n//       showDeleteControls: false,\r\n//     });\r\n//     this.test();\r\n//   };\r\n\r\n//   handleUpdateInputChange = (e) => {\r\n//     this.setState({\r\n//       [e.target.name]: e.target.value,\r\n//     });\r\n//   };\r\n\r\n//   handleUpdate = () => {\r\n//     const { updateId, updateItem, updateQuantity } = this.state;\r\n//     const productList = [ \r\n//       {\r\n//         productId: 1,\r\n//         name: \"鄉村檸檬乳酪塔\",\r\n//         descript: \"採用紐西蘭小鄉村濃郁的乳酪香味，搭配清涼檸檬口感是鄉村中最具引響力的一道甜點。\",\r\n//         img: \"cake01.jpg\",\r\n//         price: 79,\r\n//         category: [\"水果\", \"蛋糕\"]\r\n//       }, {\r\n//         productId: 2,\r\n//         name: \"精緻手工巧克蛋糕\",\r\n//         descript: \"本店採用歐洲低筋麵粉純手工製作，搭配瑞士金典巧克力碎片，每一口都能被巧克力滋潤，令人著迷且充滿想像的奇幻空間。\",\r\n//         img: \"cake02.jpg\",\r\n//         price: 69,\r\n//         category: [\"巧克力\", \"蛋糕\"]\r\n//       }, {\r\n//         productId: 3,\r\n//         name: \"限量莓果乳酪蛋糕\",\r\n//         descript: \"自製微酸香甜的草莓醬點綴了藍莓，雙層華麗的享受與令人驚豔的口感絕對讓你幸福美滿。\",\r\n//         img: \"cake03.jpg\",\r\n//         price: 89,\r\n//         category: [\"水果\", \"蛋糕\"]\r\n//       }, {\r\n//         productId: 4,\r\n//         name: \"法式藍莓蛋糕\",\r\n//         descript: \"新鮮藍莓的清香在嘴裡蔓延，甜而不膩的獨家配方，每一口都是幸福的感受。\",\r\n//         img: \"cake04.jpg\",\r\n//         price: 49,\r\n//         category: [\"水果\", \"蛋糕\"]\r\n//       }, {\r\n//         productId: 5,\r\n//         name: \"法式泡芙\",\r\n//         descript: \"外酥內嫩的口感，三種不同口味一次滿足不同味蕾\",\r\n//         img: \"puff.jpg\",\r\n//         price: 99,\r\n//         category: [\"水果\", \"蛋糕\"]\r\n//       }\r\n//     ];\r\n//     const product = productList.find(p => p.productId === Number(updateItem));\r\n//     if (!product) {\r\n//       console.error('商品不存在');\r\n//       return;\r\n//     }\r\n//     const data = {\r\n//       item: updateItem,\r\n//       item_name: product.name,\r\n//       amount: updateQuantity,\r\n//       subtotal: product.price * updateQuantity,\r\n//     };\r\n  \r\n//     axios.put(`http://localhost:8080/cake/update/${updateId}`, data)\r\n//       .then(response => {\r\n//         this.test();\r\n//         this.setState({ \r\n//           updateId: '',\r\n//           updateItem: '',\r\n//           updateQuantity: '',\r\n//           showUpdateControls: false\r\n//         });\r\n//       })\r\n//       .catch(error => {\r\n//         console.error('更新訂單失敗:', error);\r\n//       });\r\n//   };\r\n\r\n//   render() {\r\n//     const { showDeleteControls, showUpdateControls, queryResult } = this.state;\r\n//     return (\r\n//       <div>\r\n//         <img src=\"images/banner.jpg\" className=\"img-responsive\" id=\"banner\" alt=\"\" /><br/>\r\n//         <ul className=\"nav nav-tabs\">\r\n//           <li className=\"nav-item\">\r\n//             <button className=\"custom-button\" onClick={this.handleQueryClick}>查看訂單</button>\r\n//           </li>\r\n//           <li className=\"nav-item\">\r\n//             <button className=\"custom-button\" onClick={this.handleDeleteClick}>刪除</button>\r\n//           </li>\r\n//           <li className=\"nav-item\">\r\n//             <button className=\"custom-button\" onClick={this.handleUpdateClick}>修改</button>\r\n//           </li>\r\n//         </ul>\r\n//         {showDeleteControls && (\r\n//           <div>\r\n//             <input type=\"text\" value={this.state.deleteId} onChange={this.handleInputChange} placeholder=\"輸入要刪除的訂單ID\" />\r\n//             <button onClick={this.handleDelete}>確認刪除</button>\r\n//           </div>\r\n//         )}\r\n//         {showUpdateControls && (\r\n//           <div>\r\n//             <input type=\"text\" name=\"updateId\" value={this.state.updateId} onChange={this.handleUpdateInputChange} placeholder=\"輸入要修改的訂單ID\" />\r\n//             <input type=\"text\" name=\"updateItem\" value={this.state.updateItem} onChange={this.handleUpdateInputChange} placeholder=\"輸入要修改的商品\" />\r\n//             <input type=\"text\" name=\"updateQuantity\" value={this.state.updateQuantity} onChange={this.handleUpdateInputChange} placeholder=\"輸入修改後的數量\" />\r\n//             <button onClick={this.handleUpdate}>確認修改</button>\r\n//           </div>\r\n//         )}\r\n//         {queryResult.length > 0 && (\r\n//           <div id=\"show\">\r\n//             <table border=\"1\" align=\"center\" width=\"70%\">\r\n//               <thead>\r\n//                 <tr>\r\n//                   <th>訂單編號</th>\r\n//                   <th>商品代號</th>\r\n//                   <th>商品品名</th>\r\n//                   <th>數量</th>\r\n//                   <th>金額</th>\r\n//                 </tr>\r\n//               </thead>\r\n//               <tbody>\r\n//                 {queryResult.map(item => (\r\n//                   <tr key={item.id}>\r\n//                     <td>{item.id}</td>\r\n//                     <td>{item.item}</td>\r\n//                     <td>{item.item_name}</td>\r\n//                     <td className=\"right-align\">{item.amount ? item.amount.toLocaleString() : \"\"}</td>\r\n//                     <td className=\"right-align\">{item.subtotal ? item.subtotal.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + \" NTD\" : \"\"}</td>\r\n//                   </tr>\r\n//                 ))}\r\n//               </tbody>\r\n//             </table>\r\n//             <br/>共:{queryResult.length}筆  \r\n//           </div>\r\n//         )}\r\n//         <Footer />\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n//////////////////////////////////////////////////////////////////////////////////////\r\n\r\n// import React, { Component } from 'react';\r\n// import Footer from '../Footer/Footer';\r\n// import './productList.css';\r\n// import axios from 'axios';\r\n\r\n// export default class QueryAllChat extends Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = {\r\n//       deleteId: '',\r\n//       updateId: '',\r\n//       updateItem: '',\r\n//       updateQuantity: '',\r\n//       showDeleteControls: false,\r\n//       showUpdateControls: false,\r\n//       queryResult: []\r\n//     };\r\n//   }\r\n\r\n//   componentDidMount() {\r\n//     this.fetchProducts();\r\n//   }\r\n\r\n//   fetchProducts = () => {\r\n//     axios.get(\"http://localhost:8080/products/queryAllProducts\")\r\n//       .then(response => {\r\n//         this.setState({\r\n//           queryResult: response.data\r\n//         });\r\n//       })\r\n//       .catch(error => {\r\n//         console.error('获取数据失败:', error);\r\n//       });\r\n//   };\r\n\r\n//   handleInputChange = (e) => {\r\n//     this.setState({\r\n//       deleteId: e.target.value\r\n//     });\r\n//   };\r\n\r\n//   handleDeleteClick = () => {\r\n//     this.setState({\r\n//       showDeleteControls: true,\r\n//       showUpdateControls: false,\r\n//     });\r\n//     this.test();\r\n//   };\r\n\r\n//   handleDelete = () => {\r\n//     const { deleteId } = this.state;\r\n//     axios.delete(`http://localhost:8080/cake/delete/${deleteId}`)\r\n//       .then(response => {\r\n//         this.test();\r\n//         this.setState({ deleteId: '' });\r\n//       })\r\n//       .catch(error => {\r\n//         console.error('删除失败:', error);\r\n//       });\r\n//   };\r\n\r\n//   test = () => {\r\n//     axios.get(\"http://localhost:8080/cake/queryAllCake\")\r\n//       .then(response => {\r\n//         this.setState({\r\n//           queryResult: response.data\r\n//         });\r\n//       })\r\n//       .catch(error => {\r\n//         console.error('获取数据失败:', error);\r\n//       });\r\n//   };\r\n\r\n//   handleQueryClick = () => {\r\n//     this.setState({\r\n//       showDeleteControls: false,\r\n//       showUpdateControls: false,\r\n//     });\r\n//     this.test();\r\n//   };\r\n\r\n//   handleUpdateClick = () => {\r\n//     this.setState({\r\n//       showUpdateControls: true,\r\n//       showDeleteControls: false,\r\n//     });\r\n//     this.test();\r\n//   };\r\n\r\n//   handleUpdateInputChange = (e) => {\r\n//     this.setState({\r\n//       [e.target.name]: e.target.value,\r\n//     });\r\n//   };\r\n\r\n//   handleUpdate = () => {\r\n//     const { updateId, updateItem, updateQuantity, queryResult } = this.state;\r\n    \r\n//     // 從 queryResult 中找到要更新的產品\r\n//     const productToUpdate = queryResult.find(item => item.item === updateItem);\r\n    \r\n//     // 確保找到了要更新的產品\r\n//     if (!productToUpdate) {\r\n//       console.error('找不到要更新的產品');\r\n//       return;\r\n//     }\r\n    \r\n//     // 構造更新的數據對象\r\n//     const data = {\r\n//       item: updateItem,\r\n//       item_name: productToUpdate.item_name, // 使用產品清單中的商品名稱\r\n//       amount: updateQuantity,\r\n//       subtotal: productToUpdate.price * updateQuantity // 使用產品清單中的價格計算小計\r\n//     };\r\n  \r\n//     // 發送更新請求\r\n//     axios.put(`http://localhost:8080/cake/update/${updateId}`, data)\r\n//       .then(response => {\r\n//         this.fetchProducts(); // 更新後重新加載產品列表\r\n//         this.setState({ \r\n//           updateId: '',\r\n//           updateItem: '',\r\n//           updateQuantity: '',\r\n//           showUpdateControls: false\r\n//         });\r\n//       })\r\n//       .catch(error => {\r\n//         console.error('更新訂單失敗:', error);\r\n//       });\r\n//   };\r\n\r\n  \r\n\r\n//   render() {\r\n//     const { showDeleteControls, showUpdateControls, queryResult } = this.state;\r\n//     return (\r\n//       <div>\r\n//         <img src=\"images/banner.jpg\" className=\"img-responsive\" id=\"banner\" alt=\"\" /><br/>\r\n//         <ul className=\"nav nav-tabs\">\r\n//           <li className=\"nav-item\">\r\n//             <button className=\"custom-button\" onClick={this.handleQueryClick}>查看訂單</button>\r\n//           </li>\r\n//           <li className=\"nav-item\">\r\n//             <button className=\"custom-button\" onClick={this.handleDeleteClick}>刪除</button>\r\n//           </li>\r\n//           <li className=\"nav-item\">\r\n//             <button className=\"custom-button\" onClick={this.handleUpdateClick}>修改</button>\r\n//           </li>\r\n//         </ul>\r\n//         {showDeleteControls && (\r\n//           <div>\r\n//             <input type=\"text\" value={this.state.deleteId} onChange={this.handleInputChange} placeholder=\"輸入要刪除的訂單ID\" />\r\n//             <button onClick={this.handleDelete}>確認刪除</button>\r\n//           </div>\r\n//         )}\r\n//         {showUpdateControls && (\r\n//           <div>\r\n//             <input type=\"text\" name=\"updateId\" value={this.state.updateId} onChange={this.handleUpdateInputChange} placeholder=\"輸入要修改的訂單ID\" />\r\n//             <input type=\"text\" name=\"updateItem\" value={this.state.updateItem} onChange={this.handleUpdateInputChange} placeholder=\"輸入要修改的商品\" />\r\n//             <input type=\"text\" name=\"updateQuantity\" value={this.state.updateQuantity} onChange={this.handleUpdateInputChange} placeholder=\"輸入修改後的數量\" />\r\n//             <button onClick={this.handleUpdate}>確認修改</button>\r\n//           </div>\r\n//         )}\r\n//         {queryResult.length > 0 && (\r\n//           <div id=\"show\">\r\n//             <table border=\"1\" align=\"center\" width=\"70%\">\r\n//               <thead>\r\n//                 <tr>\r\n//                   <th>訂單編號</th>\r\n//                   <th>商品代號</th>\r\n//                   <th>商品品名</th>\r\n//                   <th>數量</th>\r\n//                   <th>金額</th>\r\n//                 </tr>\r\n//               </thead>\r\n//               <tbody>\r\n//                 {queryResult.map(item => (\r\n//                   <tr key={item.id}>\r\n//                     <td>{item.id}</td>\r\n//                     <td>{item.item}</td>\r\n//                     <td>{item.item_name}</td>\r\n//                     <td className=\"right-align\">{item.amount ? item.amount.toLocaleString() : \"\"}</td>\r\n//                     <td className=\"right-align\">{item.subtotal ? item.subtotal.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + \" NTD\" : \"\"}</td>\r\n//                   </tr>\r\n//                 ))}\r\n//               </tbody>\r\n//             </table>\r\n//             <br/>共:{queryResult.length}筆  \r\n//           </div>\r\n//         )}\r\n//         <Footer />\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n\r\n///////////////////////////////test 商品名稱會跟著更新  但小計不會跟著重新計算 /////////////////////\r\n\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Footer from '../Footer/Footer';\r\nimport './productList.css';\r\nimport axios from 'axios';\r\n\r\nconst QueryAllChat = () => {\r\n  const [deleteId, setDeleteId] = useState('');\r\n  const [updateId, setUpdateId] = useState('');\r\n  const [updateItem, setUpdateItem] = useState('');\r\n  const [updateQuantity, setUpdateQuantity] = useState('');\r\n  const [showDeleteControls, setShowDeleteControls] = useState(false);\r\n  const [showUpdateControls, setShowUpdateControls] = useState(false);\r\n  const [queryResult, setQueryResult] = useState([]);\r\n\r\n  const handleInputChange = (e) => {\r\n    setDeleteId(e.target.value);\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    setShowDeleteControls(true);\r\n    setShowUpdateControls(false);\r\n    test();\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    axios.delete(`http://localhost:8080/cake/delete/${deleteId}`)\r\n      .then(response => {\r\n        test();\r\n        setDeleteId('');\r\n      })\r\n      .catch(error => {\r\n        console.error('删除失败:', error);\r\n      });\r\n  };\r\n\r\n  const test = () => {\r\n    axios.get(\"http://localhost:8080/cake/queryAllCake\")\r\n      .then(response => {\r\n        setQueryResult(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.error('获取数据失败:', error);\r\n      });\r\n  };\r\n\r\n  const handleQueryClick = () => {\r\n    setShowDeleteControls(false);\r\n    setShowUpdateControls(false);\r\n    fetchData(); // 发起获取产品列表的请求\r\n  };\r\n\r\n  const fetchData = () => {\r\n    axios.get(\"http://localhost:8080/products/queryAllProducts\") // 请求产品列表数据\r\n      .then(response => {\r\n        setQueryResult(response.data); // 将返回的数据设置到 queryResult 状态中\r\n      })\r\n      .catch(error => {\r\n        console.error('获取产品列表失败:', error);\r\n      });\r\n  };\r\n\r\n  const handleUpdateClick = () => {\r\n    setShowUpdateControls(true);\r\n    setShowDeleteControls(false);\r\n    test();\r\n  };\r\n\r\n  const handleUpdateInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name === 'updateId') setUpdateId(value);\r\n    if (name === 'updateItem') setUpdateItem(value);\r\n    if (name === 'updateQuantity') setUpdateQuantity(value);\r\n  };\r\n\r\n  const handleUpdate = () => {\r\n    const productList = queryResult;\r\n\r\n    const product = productList.find(p => p.product_id === Number(updateItem));\r\n    if (!product) {\r\n      console.error('商品不存在');\r\n      return;\r\n    }\r\n    const data = {\r\n      item: updateItem,\r\n      item_name: product.name,\r\n      amount: updateQuantity,\r\n      subtotal: product.price * updateQuantity,\r\n    };\r\n  \r\n    axios.put(`http://localhost:8080/cake/update/${updateId}`, data)\r\n      .then(response => {\r\n        test();\r\n        setUpdateId('');\r\n        setUpdateItem('');\r\n        setUpdateQuantity('');\r\n        setShowUpdateControls(false);\r\n      })\r\n      .catch(error => {\r\n        console.error('更新訂單失敗:', error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <img src=\"images/banner.jpg\" className=\"img-responsive\" id=\"banner\" alt=\"\" /><br/>\r\n      <ul className=\"nav nav-tabs\">\r\n        <li className=\"nav-item\">\r\n          <button className=\"custom-button\" onClick={handleQueryClick}>查看訂單</button>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <button className=\"custom-button\" onClick={handleDeleteClick}>刪除</button>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <button className=\"custom-button\" onClick={handleUpdateClick}>修改</button>\r\n        </li>\r\n      </ul>\r\n      {showDeleteControls && (\r\n        <div>\r\n          <input type=\"text\" value={deleteId} onChange={handleInputChange} placeholder=\"輸入要刪除的訂單ID\" />\r\n          <button onClick={handleDelete}>確認刪除</button>\r\n        </div>\r\n      )}\r\n      {showUpdateControls && (\r\n        <div>\r\n          <input type=\"text\" name=\"updateId\" value={updateId} onChange={handleUpdateInputChange} placeholder=\"輸入要修改的訂單ID\" />\r\n          <input type=\"text\" name=\"updateItem\" value={updateItem} onChange={handleUpdateInputChange} placeholder=\"輸入要修改的商品\" />\r\n          <input type=\"text\" name=\"updateQuantity\" value={updateQuantity} onChange={handleUpdateInputChange} placeholder=\"輸入修改後的數量\" />\r\n          <button onClick={handleUpdate}>確認修改</button>\r\n        </div>\r\n      )}\r\n      {queryResult.length > 0 && (\r\n        <div id=\"show\">\r\n          <table border=\"1\" align=\"center\" width=\"70%\">\r\n            <thead>\r\n              <tr>\r\n                <th>訂單編號</th>\r\n                <th>商品代號</th>\r\n                <th>商品品名</th>\r\n                <th>數量</th>\r\n                <th>金額</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {queryResult.map(item => (\r\n                <tr key={item.id}>\r\n                  <td>{item.id}</td>\r\n                  <td>{item.item}</td>\r\n                  <td>{item.item_name}</td>\r\n                  <td className=\"right-align\">{item.amount ? item.amount.toLocaleString() : \"\"}</td>\r\n                  <td className=\"right-align\">{item.subtotal ? item.subtotal.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + \" NTD\" : \"\"}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <br/>共:{queryResult.length}筆  \r\n        </div>\r\n      )}\r\n      <Footer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default QueryAllChat;\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAO,mBAAmB;AAC1B,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACc,cAAc,EAAEC,iBAAiB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACgB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAACkB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAACoB,WAAW,EAAEC,cAAc,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAElD,MAAMsB,iBAAiB,GAAIC,CAAC,IAAK;IAC/Bd,WAAW,CAACc,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC7B,CAAC;EAED,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;IAC9BT,qBAAqB,CAAC,IAAI,CAAC;IAC3BE,qBAAqB,CAAC,KAAK,CAAC;IAC5BQ,IAAI,CAAC,CAAC;EACR,CAAC;EAED,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzBzB,KAAK,CAAC0B,MAAM,CAAE,qCAAoCrB,QAAS,EAAC,CAAC,CAC1DsB,IAAI,CAACC,QAAQ,IAAI;MAChBJ,IAAI,CAAC,CAAC;MACNlB,WAAW,CAAC,EAAE,CAAC;IACjB,CAAC,CAAC,CACDuB,KAAK,CAACC,KAAK,IAAI;MACdC,OAAO,CAACD,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;IAC/B,CAAC,CAAC;EACN,CAAC;EAED,MAAMN,IAAI,GAAGA,CAAA,KAAM;IACjBxB,KAAK,CAACgC,GAAG,CAAC,yCAAyC,CAAC,CACjDL,IAAI,CAACC,QAAQ,IAAI;MAChBV,cAAc,CAACU,QAAQ,CAACK,IAAI,CAAC;IAC/B,CAAC,CAAC,CACDJ,KAAK,CAACC,KAAK,IAAI;MACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;IACjC,CAAC,CAAC;EACN,CAAC;EAED,MAAMI,gBAAgB,GAAGA,CAAA,KAAM;IAC7BpB,qBAAqB,CAAC,KAAK,CAAC;IAC5BE,qBAAqB,CAAC,KAAK,CAAC;IAC5BmB,SAAS,CAAC,CAAC,CAAC,CAAC;EACf,CAAC;EAED,MAAMA,SAAS,GAAGA,CAAA,KAAM;IACtBnC,KAAK,CAACgC,GAAG,CAAC,iDAAiD,CAAC,CAAC;IAAA,CAC1DL,IAAI,CAACC,QAAQ,IAAI;MAChBV,cAAc,CAACU,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC;IACjC,CAAC,CAAC,CACDJ,KAAK,CAACC,KAAK,IAAI;MACdC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;IACnC,CAAC,CAAC;EACN,CAAC;EAED,MAAMM,iBAAiB,GAAGA,CAAA,KAAM;IAC9BpB,qBAAqB,CAAC,IAAI,CAAC;IAC3BF,qBAAqB,CAAC,KAAK,CAAC;IAC5BU,IAAI,CAAC,CAAC;EACR,CAAC;EAED,MAAMa,uBAAuB,GAAIjB,CAAC,IAAK;IACrC,MAAM;MAAEkB,IAAI;MAAEhB;IAAM,CAAC,GAAGF,CAAC,CAACC,MAAM;IAChC,IAAIiB,IAAI,KAAK,UAAU,EAAE9B,WAAW,CAACc,KAAK,CAAC;IAC3C,IAAIgB,IAAI,KAAK,YAAY,EAAE5B,aAAa,CAACY,KAAK,CAAC;IAC/C,IAAIgB,IAAI,KAAK,gBAAgB,EAAE1B,iBAAiB,CAACU,KAAK,CAAC;EACzD,CAAC;EAED,MAAMiB,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,WAAW,GAAGvB,WAAW;IAE/B,MAAMwB,OAAO,GAAGD,WAAW,CAACE,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,UAAU,KAAKC,MAAM,CAACpC,UAAU,CAAC,CAAC;IAC1E,IAAI,CAACgC,OAAO,EAAE;MACZV,OAAO,CAACD,KAAK,CAAC,OAAO,CAAC;MACtB;IACF;IACA,MAAMG,IAAI,GAAG;MACXa,IAAI,EAAErC,UAAU;MAChBsC,SAAS,EAAEN,OAAO,CAACH,IAAI;MACvBU,MAAM,EAAErC,cAAc;MACtBsC,QAAQ,EAAER,OAAO,CAACS,KAAK,GAAGvC;IAC5B,CAAC;IAEDX,KAAK,CAACmD,GAAG,CAAE,qCAAoC5C,QAAS,EAAC,EAAE0B,IAAI,CAAC,CAC7DN,IAAI,CAACC,QAAQ,IAAI;MAChBJ,IAAI,CAAC,CAAC;MACNhB,WAAW,CAAC,EAAE,CAAC;MACfE,aAAa,CAAC,EAAE,CAAC;MACjBE,iBAAiB,CAAC,EAAE,CAAC;MACrBI,qBAAqB,CAAC,KAAK,CAAC;IAC9B,CAAC,CAAC,CACDa,KAAK,CAACC,KAAK,IAAI;MACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;IACjC,CAAC,CAAC;EACN,CAAC;EAED,oBACE5B,OAAA;IAAAkD,QAAA,gBACElD,OAAA;MAAKmD,GAAG,EAAC,mBAAmB;MAACC,SAAS,EAAC,gBAAgB;MAACC,EAAE,EAAC,QAAQ;MAACC,GAAG,EAAC;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAAA1D,OAAA;MAAAuD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClF1D,OAAA;MAAIoD,SAAS,EAAC,cAAc;MAAAF,QAAA,gBAC1BlD,OAAA;QAAIoD,SAAS,EAAC,UAAU;QAAAF,QAAA,eACtBlD,OAAA;UAAQoD,SAAS,EAAC,eAAe;UAACO,OAAO,EAAE3B,gBAAiB;UAAAkB,QAAA,EAAC;QAAI;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxE,CAAC,eACL1D,OAAA;QAAIoD,SAAS,EAAC,UAAU;QAAAF,QAAA,eACtBlD,OAAA;UAAQoD,SAAS,EAAC,eAAe;UAACO,OAAO,EAAEtC,iBAAkB;UAAA6B,QAAA,EAAC;QAAE;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvE,CAAC,eACL1D,OAAA;QAAIoD,SAAS,EAAC,UAAU;QAAAF,QAAA,eACtBlD,OAAA;UAAQoD,SAAS,EAAC,eAAe;UAACO,OAAO,EAAEzB,iBAAkB;UAAAgB,QAAA,EAAC;QAAE;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EACJ/C,kBAAkB,iBACjBX,OAAA;MAAAkD,QAAA,gBACElD,OAAA;QAAO4D,IAAI,EAAC,MAAM;QAACxC,KAAK,EAAEjB,QAAS;QAAC0D,QAAQ,EAAE5C,iBAAkB;QAAC6C,WAAW,EAAC;MAAY;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC5F1D,OAAA;QAAQ2D,OAAO,EAAEpC,YAAa;QAAA2B,QAAA,EAAC;MAAI;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzC,CACN,EACA7C,kBAAkB,iBACjBb,OAAA;MAAAkD,QAAA,gBACElD,OAAA;QAAO4D,IAAI,EAAC,MAAM;QAACxB,IAAI,EAAC,UAAU;QAAChB,KAAK,EAAEf,QAAS;QAACwD,QAAQ,EAAE1B,uBAAwB;QAAC2B,WAAW,EAAC;MAAY;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAClH1D,OAAA;QAAO4D,IAAI,EAAC,MAAM;QAACxB,IAAI,EAAC,YAAY;QAAChB,KAAK,EAAEb,UAAW;QAACsD,QAAQ,EAAE1B,uBAAwB;QAAC2B,WAAW,EAAC;MAAU;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACpH1D,OAAA;QAAO4D,IAAI,EAAC,MAAM;QAACxB,IAAI,EAAC,gBAAgB;QAAChB,KAAK,EAAEX,cAAe;QAACoD,QAAQ,EAAE1B,uBAAwB;QAAC2B,WAAW,EAAC;MAAU;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC5H1D,OAAA;QAAQ2D,OAAO,EAAEtB,YAAa;QAAAa,QAAA,EAAC;MAAI;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzC,CACN,EACA3C,WAAW,CAACgD,MAAM,GAAG,CAAC,iBACrB/D,OAAA;MAAKqD,EAAE,EAAC,MAAM;MAAAH,QAAA,gBACZlD,OAAA;QAAOgE,MAAM,EAAC,GAAG;QAACC,KAAK,EAAC,QAAQ;QAACC,KAAK,EAAC,KAAK;QAAAhB,QAAA,gBAC1ClD,OAAA;UAAAkD,QAAA,eACElD,OAAA;YAAAkD,QAAA,gBACElD,OAAA;cAAAkD,QAAA,EAAI;YAAI;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACb1D,OAAA;cAAAkD,QAAA,EAAI;YAAI;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACb1D,OAAA;cAAAkD,QAAA,EAAI;YAAI;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACb1D,OAAA;cAAAkD,QAAA,EAAI;YAAE;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACX1D,OAAA;cAAAkD,QAAA,EAAI;YAAE;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR1D,OAAA;UAAAkD,QAAA,EACGnC,WAAW,CAACoD,GAAG,CAACvB,IAAI,iBACnB5C,OAAA;YAAAkD,QAAA,gBACElD,OAAA;cAAAkD,QAAA,EAAKN,IAAI,CAACS;YAAE;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAClB1D,OAAA;cAAAkD,QAAA,EAAKN,IAAI,CAACA;YAAI;cAAAW,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACpB1D,OAAA;cAAAkD,QAAA,EAAKN,IAAI,CAACC;YAAS;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACzB1D,OAAA;cAAIoD,SAAS,EAAC,aAAa;cAAAF,QAAA,EAAEN,IAAI,CAACE,MAAM,GAAGF,IAAI,CAACE,MAAM,CAACsB,cAAc,CAAC,CAAC,GAAG;YAAE;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAClF1D,OAAA;cAAIoD,SAAS,EAAC,aAAa;cAAAF,QAAA,EAAEN,IAAI,CAACG,QAAQ,GAAGH,IAAI,CAACG,QAAQ,CAACqB,cAAc,CAACC,SAAS,EAAE;gBAAEC,qBAAqB,EAAE,CAAC;gBAAEC,qBAAqB,EAAE;cAAE,CAAC,CAAC,GAAG,MAAM,GAAG;YAAE;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA,GALzJd,IAAI,CAACS,EAAE;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAMZ,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACR1D,OAAA;QAAAuD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,WAAE,EAAC3C,WAAW,CAACgD,MAAM,EAAC,QAC7B;IAAA;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN,eACD1D,OAAA,CAACH,MAAM;MAAA0D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAAAxD,EAAA,CA3JKD,YAAY;AAAAuE,EAAA,GAAZvE,YAAY;AA6JlB,eAAeA,YAAY;AAAC,IAAAuE,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}